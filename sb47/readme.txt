1. 秒杀
2. 两种方式防止库存超卖
3. 限制用户访问频率



1. 提供一个生成指定数量的token，token的数量与秒杀商品数量一致。
genToken?goodsId=123&quantity=100
上面表示，在redis中生成商品id为123的token，token数量为100，redis中使用数量list。
2. 在秒杀方法中，先lpop token出来，redis中取一个删除一个。如果没有获取到说明秒杀商品已经抢完，则返回秒杀商品结束。
如果获取到token，则继续执行，然后将商品id和用户id（或者手机号）放到MQ中（通过@Async异步执行），返回“正在排队中.....”
3. MQ监听秒杀队列，扣减库存、生成订单。库存要使用乐观锁来防止超卖。
4. 秒杀服务生产者，不能和消费者部署在一台机器上，要单独部署消费者。

